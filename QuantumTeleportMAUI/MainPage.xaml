<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="QuantumTeleportMAUI.Views.MainPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:skia="clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls"
             xmlns:charts="clr-namespace:Microcharts.Maui;assembly=Microcharts.Maui"
             Title="Quantum Teleporter">
    <ScrollView>
        <VerticalStackLayout Spacing="15" Padding="20">
            <Label Text="Quantum Teleportation" Style="{StaticResource TitleLabel}" />

            <Frame Style="{StaticResource ParameterCard}">
                <VerticalStackLayout Spacing="10">
                    <Label Text="Qubit State (Bloch Sphere)" FontAttributes="Bold" />
                    <Label x:Name="thetaLabel" Text="Polar Angle (θ): 1.047" FontSize="Small" />
                    <Slider x:Name="thetaControl" Minimum="0" Maximum="3.14" Value="1.047" ThumbColor="{StaticResource Primary}" />
                    
                    <Label x:Name="phiLabel" Text="Azimuthal Angle (φ): 0.785" FontSize="Small" />
                    <Slider x:Name="phiControl" Minimum="0" Maximum="6.28" Value="0.785" ThumbColor="{StaticResource Secondary}" />
                </VerticalStackLayout>
            </Frame>

            <Frame Style="{StaticResource ParameterCard}">
                <VerticalStackLayout Spacing="10">
                    <Label Text="Simulation Parameters" FontAttributes="Bold" />
                    <Label x:Name="shotsLabel" Text="Shots: 1000" FontSize="Small" />
                    <Slider x:Name="shotsControl" Minimum="100" Maximum="5000" Value="1000" />
                    
                    <Label x:Name="noiseLabel" Text="Quantum Noise: 0%" FontSize="Small" />
                    <Slider x:Name="noiseControl" Minimum="0" Maximum="0.1" Value="0" />

                    <HorizontalStackLayout Spacing="10">
                        <CheckBox x:Name="ecCheck" Color="{StaticResource Primary}" />
                        <Label Text="Enable Error Correction (Bit-Flip)" VerticalOptions="Center" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>

            <Button Text="EXECUTE TELEPORTATION" Clicked="RunSim" Margin="0,10" />

            <skia:SKCanvasView x:Name="blochView" PaintSurface="DrawBloch" HeightRequest="260" WidthRequest="260" HorizontalOptions="Center" />

            <Label x:Name="statusText" Text="Ready for teleportation..." HorizontalOptions="Center" FontAttributes="Italic" />

            <charts:CartesianChart x:Name="successChart" HeightRequest="150" Margin="0,10" />

            <Button Text="VIEW DETAILED HISTORY" Clicked="ViewHistory" BackgroundColor="{StaticResource Secondary}" Margin="0,10,0,0" />

            <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                <Button Grid.Column="0" Text="Export Logs" Clicked="ExportHistory" BackgroundColor="{StaticResource Secondary}" />
                <Button Grid.Column="1" Text="Clear History" Clicked="ClearLog" BackgroundColor="{StaticResource Error}" />
            </Grid>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
